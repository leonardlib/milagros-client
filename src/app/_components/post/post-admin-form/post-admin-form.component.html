
<div class="row">
  <div class="col s12">
    <h5 *ngIf="!editar">Nueva publicación</h5>
    <h5 *ngIf="editar">Editar publicación</h5>
  </div>
</div>
<div class="row">
  <div class="col s12">
    <div class="row">
      <div class="input-field col s12">
        <input class="validate" type="text" id="title" name="title" [(ngModel)]="post.title" #title="ngModel" required="required"/>
        <label for="title" [class.active]="editar">Título</label>
      </div>
    </div>
    <div class="row">
      <div class="col s12"><span class="text-primary">Autor de la publicación</span>
        <ng-select [items]="authors" [addTag]="true" bindLabel="name" [(ngModel)]="post.author.name" bindValue="name" [notFoundText]="'Sin autores, escribe para agregar'" [loading]="loading" [addTagText]="'Agregar autor'"></ng-select>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <label for="main_image">Imagen principal</label>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <input-file [(ngModel)]="images" [fileAccept]="'image/*'" id="main_image" [fileLimit]="1"></input-file>
      </div>
    </div>
    <div class="row">
      <div class="col s12"><span class="text-primary">Autor de la imagen principal</span>
        <ng-select [items]="authors" [addTag]="true" bindLabel="name" [(ngModel)]="post.main_image.author.name" bindValue="name" [notFoundText]="'Sin autores, escribe para agregar'" [loading]="loading" [addTagText]="'Agregar autor'"></ng-select>
      </div>
    </div>
    <div class="row">
      <div class="input-field col s12">
        <label for="content">Contenido</label>
      </div>
    </div>
    <div class="row">
      <div class="col s12 m-top-30p">
        <quill-editor [(ngModel)]="post.content" id="content" name="content" #content="ngModel" [placeholder]="'Escribe aquí...'"></quill-editor>
      </div>
    </div>
    <div class="row">
      <div class="col s12 m6 m-top-50p" *ngIf="editar"><a class="btn btn-block waves-effect waves-block grey" (click)="onDelete()">Eliminar</a></div>
      <div class="col s12 m-top-50p" [class.m6]="editar"><a class="btn btn-block bg-primary waves-effect waves-block" (click)="onSubmit()">Guardar</a></div>
    </div>
  </div>
</div>